# ⚙️ 기술 의사결정 기록

이 문서는 프로젝트 진행 중 선택된 기술 스택과 프레임워크에 대한 선택 이유 및 대안을 기록한 것입니다.

## 📌 언어 및 프레임워크 선택

### 🐍 Python
- **선택 이유**:
  - 팀원 전원이 Python 사용 경험이 있어 **협업에 유리**
  - 데이터 처리 및 알고리즘 구현에 **풍부한 라이브러리** 제공 (`pandas`, `numpy`, `scikit-learn`, `backtrader` 등)
  - FastAPI와 같은 **경량 웹 프레임워크**와의 연계가 용이

## 🚀 백엔드 기술 스택

### ⚡ FastAPI
- **선택 이유**:
  - Python 기반 비동기 지원 및 **우수한 성능**
  - **Swagger 자동 문서화**, 타입 힌트 기반의 개발 편의성
  - 학습 곡선이 낮고 Flask보다 확장성에 유리

### 🧠 Backtrader
- **선택 이유**:
  - 백테스트 엔진 중 Python에서 가장 널리 쓰이며,
  - 다양한 전략 구현, 리밸런싱, 슬리피지/수수료 모델까지 지원
  - 내부에서 pandas 기반으로 작동해 **기존 데이터 분석 코드와의 통합이 쉬움**

## 💻 프론트엔드 기술 스택

### ⚛️ React (with Vite)
- **선택 이유**:
  - SPA 기반 프론트엔드 개발에 가장 널리 사용되는 프레임워크
  - Vite 기반 빌드 도구를 통해 **빠른 개발 서버 및 모듈 핫 리로드**

### 🎨 Tailwind CSS
- **선택 이유**:
  - 유틸리티 클래스 기반으로 **스타일 일관성과 생산성 향상**
  - 디자이너 없이도 빠르게 UI 구성 가능

### 📊 Chart.js
- **선택 이유**:
  - 직관적인 API와 **빠른 학습 곡선**
  - 라인 차트, 바 차트, 파이 차트 등 **다양한 시각화 지원**
  - React Wrapper(react-chartjs-2)와 함께 사용해 **컴포넌트화가 쉬움**

## 🐘 데이터베이스 선택

### 🧩 SQLite (리더보드 전용)

- **선택 이유**:
  - 별도 DB 서버 없이도 **경량화된 구조로 순위 기록 관리 가능**
  - `read-heavy` 성향의 단순 조회 기능에 적합
  - 리더보드 항목(전략명, 수익률, 리밸런싱 주기 등)만 간단히 저장/정렬하면 되므로 적합
- **적용 범위**:
  - `max_strategy` 테이블을 기반으로 하는 수익률 리더보드 구현


### 🚫 DB 미사용 영역

- **설계 이유**:
  - 일부 API(예: `/search/ticker`, `/recommend` 등)는  
    **다수의 컬럼(리소스 수치)과 빈번한 요청**이 동시에 발생하므로,
    RDB를 통해 매번 조회할 경우 **응답 지연이 발생**
  - 특히, 시계열 데이터를 포함한 리소스 사용량 정보를 빠르게 전달하기 위해  
    **모든 메모리 데이터를 직접 관리**하는 방식으로 처리
- **기술 방식**:
  - Python 내에서 직접 리스트, 딕셔너리 형태로 데이터를 메모리에 유지
  - 요청 시 즉시 필터링 및 가공하여 반환
  - 캐싱이나 DB I/O를 생략함으로써 **즉각적인 응답 속도 확보**

> 결과적으로, "빈번하고 복잡한 요청을 빠르게 처리"하기 위해  
> **DB 저장 없이 인메모리 방식**으로 API 응답을 구성함.

### 🧠 사전 가공 데이터 저장 (Pickle 사용)

- **설계 이유**:
  - 초기 클러스터링, PCA, 섹터 분류 등의 과정은 다수의 CSV 파일을 기반으로 수행되며,
    **매번 CSV를 파싱하고 연산하는 것은 비효율적**
  - 이를 방지하기 위해 **사전 계산된 결과를 `.pkl` 파일로 저장**하고 재사용함

- **적용 예시**:
  - `k_means` 결과 → `models/pretrained_clusters.pkl`
  - `sector_visualization` 결과 → `models/pretrained_sectors.pkl`

- **장점**:
  - 불필요한 I/O와 연산 반복 제거
  - 초기 실행 속도 개선 및 서버 부하 감소
