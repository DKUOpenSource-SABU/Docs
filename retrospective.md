# 🧠 SABU 프로젝트 회고 및 문제 해결

## ✅ 잘한 점

- **API 명세서의 체계적 정리**
  - 클러스터링, 백테스트, ETF 데이터 수집 등 기능을 프로세스 ID 기반으로 체계적으로 분류함.
  - Swagger 연동을 통한 테스트 환경 구축이 효율적이었음.

- **프론트-백 협업 효율성**
  - 공통 API 스펙 기준 문서를 바탕으로 프론트와 백엔드 간 명확한 역할 분리가 가능했음.
  - 클러스터링/백테스트 결과 시각화를 위한 라벨 설계가 일관적이었음.

- **인메모리 캐시 도입에 따른 성능 최적화**
  - 동일한 데이터 대해 DB 요청이 아니라 서버 메모리에 결과를 보존함으로써 응답 속도를 개선함.

- **멀티프로세싱을 통한 연산 병렬화**
  - FASTAPI를 Gunicorn을 사용하여 멀티프로세싱을 적용해 응답 속도 최적화

- **시각화 중심의 데이터 제공**
  - 클러스터링 결과를 Chart.js 기반 시각화로 제공함으로써 사용자의 이해도 상승.
  - 사용자 중심의 인터랙티브한 분석 경험 제공.

- **성능 테스트 자동화 (k6 도입)**
  - k6 기반 스크립트를 작성하여 주요 API에 대한 부하 테스트를 수행함.
  - TPS(Transactions Per Second), 응답 시간, 실패율 등을 사전 확인하여 서비스 안정성을 검증함.

## ❌ 아쉬운 점

- **현실적인 서비스에서의 성능 이슈**
  - 인메모리 저장으로 인한 고 사양 서버 필요
  - 멀티프로세싱을 사용하였지만 아직 `/backtest`와 같은 엔드 포인트는 성능적으로 많이 부족함.


## 🛠 문제 해결

- **임시 성능 문제 해결**
  - AWS의 프리티어 성능으로 SABU 서비스 유지 불가 판단
  - 따라서 AWS를 프록시 서버로 운영하고, 외부 다른 서버(임시 서버 / 노트북)을 활용하여 프록시하여 서비스 임시 배포

- **멀티 프로세싱 리더보드 DB 메모리 캐싱 문제**
  - 멀티 프로세싱으로 인한 메모리 공유가 되지 않아 리더보드가 제대로 반영되지 않는 문제
  - SQLite를 사용하여 리더보드 부분만 따로 모듈화하여 DB에 저장하도록 해결


## 💡 다음 단계

- 최소 필요 성능에 대한 문제 개선 필요
- ETF 뉴스 감정 분석 정확도 향상을 위한 모델 개선

> 작성자: 김태형  
> 프로젝트 기간: 2025년 4월 ~ 6월  
> 주요 기술: FastAPI, React, Chart.js, SQLite
