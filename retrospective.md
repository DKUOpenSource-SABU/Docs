# ðŸ§  SABU í”„ë¡œì íŠ¸ íšŒê³  ë° ë¬¸ì œ í•´ê²°

## âœ… ìž˜í•œ ì 

- **API ëª…ì„¸ì„œì˜ ì²´ê³„ì  ì •ë¦¬**
  - í´ëŸ¬ìŠ¤í„°ë§, ë°±í…ŒìŠ¤íŠ¸, ETF ë°ì´í„° ìˆ˜ì§‘ ë“± ê¸°ëŠ¥ì„ í”„ë¡œì„¸ìŠ¤ ID ê¸°ë°˜ìœ¼ë¡œ ì²´ê³„ì ìœ¼ë¡œ ë¶„ë¥˜í•¨.
  - Swagger ì—°ë™ì„ í†µí•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•ì´ íš¨ìœ¨ì ì´ì—ˆìŒ.

- **í”„ë¡ íŠ¸-ë°± í˜‘ì—… íš¨ìœ¨ì„±**
  - ê³µí†µ API ìŠ¤íŽ™ ê¸°ì¤€ ë¬¸ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ í”„ë¡ íŠ¸ì™€ ë°±ì—”ë“œ ê°„ ëª…í™•í•œ ì—­í•  ë¶„ë¦¬ê°€ ê°€ëŠ¥í–ˆìŒ.
  - í´ëŸ¬ìŠ¤í„°ë§/ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™”ë¥¼ ìœ„í•œ ë¼ë²¨ ì„¤ê³„ê°€ ì¼ê´€ì ì´ì—ˆìŒ.

- **ìºì‹œ ì²˜ë¦¬ ë° ì„±ëŠ¥ ìµœì í™”**
  - Diskcacheë¥¼ ë„ìž…í•˜ì—¬ ë™ì¼ ìš”ì²­ì— ëŒ€í•œ ë°˜ë³µ ì²˜ë¦¬ ë¹„ìš©ì„ ì ˆê°.
  - ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë° í´ëŸ¬ìŠ¤í„°ë§ ë°ì´í„°ë¥¼ ë¡œì»¬ ìºì‹œì— ì €ìž¥í•˜ì—¬ API ì†ë„ ê°œì„ .

- **ì‹œê°í™” ì¤‘ì‹¬ì˜ ë°ì´í„° ì œê³µ**
  - í´ëŸ¬ìŠ¤í„°ë§ ê²°ê³¼ë¥¼ Chart.js ê¸°ë°˜ ì‹œê°í™”ë¡œ ì œê³µí•¨ìœ¼ë¡œì¨ ì‚¬ìš©ìžì˜ ì´í•´ë„ ìƒìŠ¹.
  - ì‚¬ìš©ìž ì¤‘ì‹¬ì˜ ì¸í„°ëž™í‹°ë¸Œí•œ ë¶„ì„ ê²½í—˜ ì œê³µ.


## âŒ ì•„ì‰¬ìš´ ì 

- **CORS ë° ë¦¬ë‹¤ì´ë ‰ì…˜ ë¬¸ì œ**
  - HTTPSì™€ HTTP ê°„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì¶©ëŒ ë¬¸ì œ ë°œìƒ (íŠ¹ížˆ `/backtest` API).
  - `OPTIONS` í”„ë¦¬í”Œë¼ì´íŠ¸ ìš”ì²­ì—ì„œ 307 Redirect ë°œìƒ â†’ CORS ì˜¤ë¥˜ë¡œ ì—°ê²° ì°¨ë‹¨ë¨.

- **ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±**
  - Docker ë¹Œë“œ ì¤‘ HDF5 ë° PyTorch ê´€ë ¨ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œ ê³µê°„ ë¶€ì¡± ì˜¤ë¥˜ ë°œìƒ (`[Errno 28]`).
  - ìž„ì‹œë¡œ `/mnt/data`ë¥¼ ì €ìž¥ì†Œë¡œ ì§€ì •í•´ í•´ê²°í–ˆì§€ë§Œ, ë£¨íŠ¸ ë””ìŠ¤í¬ ìš©ëŸ‰ ê´€ë¦¬ í•„ìš”ì„± í™•ì¸.

- **ë©”íŠ¸ë¦­ ë°ì´í„° API ì„¤ê³„ ì´ˆê¸° í˜¼ëž€**
  - `pod_stats`, `node_stats` ë“±ì˜ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ APIì—ì„œ GROUP BY êµ¬ë¬¸ ëˆ„ë½ìœ¼ë¡œ SQL ì˜¤ë¥˜ ë¹ˆë²ˆ ë°œìƒ.
  - ë°ì´í„° ì§‘ê³„ ê¸°ì¤€(`timestamp`, `pod_name`, `namespace`)ì— ëŒ€í•œ ëª…í™•í•œ ì„¤ê³„ê°€ í•„ìš”í–ˆìŒ.


## ðŸ›  ë¬¸ì œ í•´ê²°

- **CORS ë¬¸ì œ í•´ê²°**
  - Nginxì—ì„œ HTTP ìš”ì²­ì„ ëª¨ë‘ 308 permanent redirectë¡œ ê°•ì œí•˜ì—¬ HTTPSë¡œ ìœ ë„.
  - FastAPIì—ì„œ `allow_redirects=False` ì„¤ì •ê³¼ `CORSMiddleware` ìž¬êµ¬ì„±.

- **ë””ìŠ¤í¬ ë¶€ì¡± ëŒ€ì‘**
  - Docker ë¹Œë“œ ìºì‹œ ìµœì†Œí™” (`--no-cache`, `apt clean` ë“±).
  - `/mnt/data` ë³¼ë¥¨ìœ¼ë¡œ pip íŒ¨í‚¤ì§€ ì €ìž¥ ê²½ë¡œ ì§€ì •í•˜ì—¬ ê³µê°„ ë¶„ì‚°.

- **SQL ì˜¤ë¥˜ ê°œì„ **
  - Postgresì˜ ì§‘ê³„í•¨ìˆ˜ì™€ GROUP BY ê·œì¹™ í™•ì¸ í›„ ì¿¼ë¦¬ ìˆ˜ì •.
  - ORM ëŒ€ì‹  raw SQL ì‚¬ìš© ì‹œ, ì¿¼ë¦¬ ë¦¬íŒ©í† ë§ íŒ¨í„´ ì •ë¦½.

- **ì‹œê°í™” ë¬¸ì œ**
  - Chart.jsì˜ label ê²¹ì¹¨ â†’ xì¶• ì œí•œ, fontSize ì¶•ì†Œ, legend custom ì²˜ë¦¬ë¡œ í•´ê²°.
  - í´ëŸ¬ìŠ¤í„° ì‚°ì ë„ì—ì„œ ë°ì´í„° ë¼ë²¨ ì¤‘ë³µ â†’ ë°ì´í„°ì…‹ë³„ map ë¶„ë¦¬ ë° ìƒ‰ìƒ íŒŒìŠ¤í…”í™” ì ìš©.


## ðŸ’¡ ë‹¤ìŒ ë‹¨ê³„

- ì•Œë¦¼ ì¡°ê±´ ì„¤ì • ê¸°ëŠ¥ì˜ ì •êµí™” ë° ê²½ê³  ì‹œìŠ¤í…œ ê³ ë„í™”
- ì‹œê³„ì—´ ë°ì´í„°ì— ëŒ€í•œ ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ ë° ë¦¬í”„ë ˆì‹œ ì„±ëŠ¥ ê°œì„ 
- ETF ë‰´ìŠ¤ ê°ì • ë¶„ì„ ì •í™•ë„ í–¥ìƒì„ ìœ„í•œ ëª¨ë¸ ê°œì„ 


> ìž‘ì„±ìž: ê¹€íƒœí˜•  
> í”„ë¡œì íŠ¸ ê¸°ê°„: 2025ë…„ 5ì›” ~ 6ì›”  
> ì£¼ìš” ê¸°ìˆ : FastAPI, React, Chart.js, PostgreSQL, Docker, Diskcache
